<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
<title>Unterseeschule - Arbeitsgruppen- und Arbeitszeiten-Verwaltung</title>
<link rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" href="css/arbeitsgruppen.css" />
</head>
<body>
  <div class="container-fluid">
    <h1>Arbeitsgruppen- und Arbeitszeiten-Verwaltung</h1>
    <div class="my-4">
      <p>Hier können die Elternarbeitszeiten der Unterseeschule verwaltet werden.<p>
    </div>
    <div class="my-4">
      <a href="arbeitszeitenGruppen.php" class="btn btn-primary mx-2">Arbeitszeiten nach Arbeitsgruppen</a>
      <a href="arbeitszeitenFamilien.php" class="btn btn-primary mx-2">Arbeitszeiten nach Familien</a>
      <a href="gruppen.php" class="btn btn-primary mx-2">Arbeitsgruppen</a>
      <a href="familien.php" class="btn btn-primary mx-2">Familien</a>
    </div>
    <h2>Hinweise zur Benutzung</h2>
    <div>
      <p>
        Die in den Formularen angezeigten Zeilen werden nur beim Klick auf "Speichern" unten oder "Löschen" neben einer Zeile gespeichert. 
        Beim Klick auf "Zurück" oder beim Auswählen eines Filters gehen ungespeicherte Änderungen verloren; es wird jedoch nochmals gefragt, ob man das wirklich möchte.
      </p>
      <h4>Arbeitsgruppen-Ansicht</h4>
      <p>
        In der Arbeitsgruppen-Ansicht kann man Arbeitsgruppen anlegen, umbenennen und löschen. 
        Beim Umbenennen einer Arbeitsgruppe bleiben die Arbeitsstunden erhalten. 
        Beim Löschen einer Gruppe bleiben die zugehörigen Familien und Arbeitsaufträge samt Arbeitsstunden erhalten, sie sind aber nicht mehr dieser Gruppe zugeordnet.
        Die Arbeitsgruppen werden nach Name sortiert angezeigt.
      </p>
      <h4>Familien-Ansicht</h4>
      <p>
        In der Familien-Ansicht kann man Familien anlegen, umbenennen und löschen.
        Beim Umbenennen einer Familie bleiben die Arbeitsstunden erhalten.
        Das Löschen einer Familie ist nur möglich, wenn keine Arbeitsstunden auf die Familie gebucht sind, sonst wird ein Datenbank-Fehler geworfen (müssen wir noch sehen, ob das praktikabel ist).
        Die Familien werden nach Name sortiert angezeigt.
      </p>
      <h4>Arbeitszeiten-Ansicht</h4>
      <p>
        In den beiden Arbeitszeiten-Ansichten kann man entweder nach Arbeitsgruppen oder nach einzelnen Familien filtern. 
        Der Gruppenfilter in der Ansicht "Arbeitszeiten nach Arbeitsgruppen" filtert sowohl die Spalten (Familien) als auch die Zeilen (Arbeitsaufträge) so,
        dass nur die Familien und Arbeitsaufträge, die mit dieser Gruppe gekennzeichnet sind, sichtbar sind. 
        Der Familienfilter in der Ansicht "Arbeitszeiten nach Familien" filtert sowohl die Spalten (Familien) als auch die Zeilen (Arbeitsaufträge) so, 
        dass nur die gewählte Familie und Arbeitsaufträge, für die diese Familie Werte eingetragen hat, sichtbar sind. 
        Wie schon oben erwähnt, werden beim Ändern des Filters die Änderungen verworfen (es gibt aber noch eine Sicherheitsabfrage). 
        Die Arbeitsaufträge werden nach Datum sortiert angezeigt.
      </p>
      <h4>Javascript</h4>
      <p>
        Ohne Javascript funktionieren die Seiten leider nicht vollständig.
      </p>
      <h4>Version</h4>
      <p>
        Die installierte Version der Anwendung ist 1.4 (4.10.2109)
      </p>
      <h4>Änderungen</h4>
      <ul>
        <li>Version 1.4 (4.10.2109)
          <ul>
            <li>Beim Speichern wird überprüft, ob mehr Werte übertragen wurden als verarbeitet werden können</li>
            <li>Neue Ansicht "Arbeitszeiten nach Familien" eingefügt</li>
            <li>Bisherige Ansicht "Arbeitszeiten" umbenannt nach "Arbeitszeiten nach Gruppen"</li>
            <li>Bugfix: In der Arbeitszeiten-ansicht waren die exportierten Daten umgekehrt sortiert wie die angezeigten Daten</li>
          </ul>
        </li>
        <li>Version 1.3 ((7.12.2018))
          <ul>
            <li>Arbeitszeiten werden absteigend nach Datum sortiert (neueste oben).</li>
            <li>Bugfix: In großen Tabellen wurden die letzten Felder nicht gespeichert.</li>
            <li>Bugfix: Bi Validierungsfehlern wird die gesamte Zeile nicht gespeichert.</li>
            <li>Minimales Debugging eingebaut</li>
          </ul>
        </li>
        <li>Version 1.2
          <ul>
            <li>Die Familien in Arbeitszeitentabelle werden jetzt alphabetisch sortiert</li>
            <li>Das Datum in den Arbeitszeiten ist jetzt wirklich ein Pflichtfeld</li>
            <li>Arbeitsgruppen und Familien werden jetzt nach Name sortiert</li>
            <li>Arbeitszeiten werden jetzt nach Datum sortiert</li>
            <li>Tabellen können als CSV exportiert werden</li>
            <li>HTML-Fehler (filter-div war in table) behoben</li>
          </ul>
        </li>
        <li>Version 1.1 (1.11.2018)
          <ul>
            <li>Zeile für den neuen Eintrag an den Tabellenanfang verschoben</li>
            <li>Abbrechen und Filter ändern fragen vor dem Verlassen der Seite nochmal nach, wenn ein Wert geändert wurde</li>
            <li>Filter ändern Button entfernt, stattdessen wird bei der Auswahl eines neuen Filters gleich gewechselt</li>
          </ul>
        </li>
      </ul>
      <h4>TODO</h4>
      <ul>
        <li>Löschen-Knopf mit einer Sicherheitsabfrage versehen</li>
        <li>Bei den Arbeitszeiten-Ansichten: Wenn man einen Filter an hat und eine Zeile löscht, ist nicht klar, dass man evtl auch nicht angezeigte Stunden löscht</li>
      </ul>
    </div>
  </div>
</body>
</html>